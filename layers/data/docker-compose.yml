services:
  data-relational:
    container_name: data-relational
    image: bitnami/postgresql:latest
    env_file:
      - .env
    ports:
      - "5432:5432"
    volumes:
      - data-relational-data:/bitnami/postgresql
    networks:
      - app-network

  data-object:
    container_name: data-object
    image: bitnami/minio:latest
    ports:
      - "9000:9000"
      - "9001:9001"
    env_file:
      - .env
    volumes:
      - data-object-data:/bitnami/minio
    command: server /bitnami/minio/data --console-address ":9001"
    networks:
      - app-network

  data-non-relational:
    image: bitnami/redis:latest
    container_name: data-non-relational
    ports:
      - "6379:6379"   # Redis port
    env_file:
      - .env  # You should set this in .env file
    volumes:
      - data-non-relational-data:/bitnami/redis/data
    networks:
      - app-network

  data-vector:
    container_name: data-vector
    image: qdrant/qdrant:latest
    ports:
      - "6333:6333"   # REST API
      - "6334:6334"   # gRPC
    volumes:
      - data-vector-data:/qdrant/storage
    networks:
      - app-network

volumes:
  data-relational-data:
  data-object-data:
  data-vector-data:
  data-non-relational-data:

networks:
  app-network:
    driver: bridge 